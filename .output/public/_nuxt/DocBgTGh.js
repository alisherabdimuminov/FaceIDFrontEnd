import{_ as F}from"./C42TA1yl.js";import{_ as L,a as j,b as N,c as J}from"./CsSUeeLO.js";import{_ as Q,a as O}from"./bSiN64ad.js";import{_ as P,a as H,d as X,b as Y,c as Z}from"./DnjfkEkh.js";import{a as C}from"./CG0E6PN7.js";import{k as v}from"./CjBVp7fI.js";import{a as G}from"./dbmB2fFP.js";import{e as K,k as W,r as g,l as h,o as r,c as $,a as n,b as e,w as t,n as ll,V as el,d,f as o,g as V,F as A,p as q,q as z,t as T}from"./zgKzL862.js";import{u as al}from"./B3a9kYQd.js";import{u as tl}from"./CXIs5lR0.js";import"./BSWGHhdT.js";const sl={class:"flex flex-col gap-5 p-5 md:p-10"},ol={class:"flex items-center justify-between"},nl={class:"flex flex-col gap-5"},dl={class:"flex flex-col md:flex-row gap-5"},il={class:"flex flex-col md:flex-row gap-5"},ul={class:"w-full"},ml={class:"w-full"},pl={class:"w-full"},fl={class:"flex flex-col md:flex-row gap-5"},rl={class:"w-full"},_l={class:"w-full"},vl={class:"w-full"},gl={class:"flex flex-col md:flex-row gap-5"},Vl={class:"w-full"},xl={class:"w-full"},cl={class:"w-full"},wl={class:"w-full md:w-56 flex flex-col gap-5"},yl=["src"],bl={class:"flex flex-col md:flex-row gap-5"},kl={class:"w-full"},Ul={class:"w-full"},Sl={class:"flex flex-col md:flex-row gap-5"},$l={class:"w-full"},Tl={class:"w-full"},Al={class:"flex flex-col md:flex-row gap-5"},ql={class:"w-full"},zl={class:"w-full"},Bl={class:"flex flex-col md:flex-row gap-5"},Cl={class:"w-full"},Dl={class:"w-full"},Rl={class:"flex flex-col md:flex-row gap-5"},El={class:"w-full"},Il={class:"w-full"},Zl=K({__name:"add",setup(Ml){al({title:"Xodim qo'shish"}),W();const{token:D}=tl();G();const a=g({id:0,uuid:"",first_name:"",last_name:"",middle_name:"",gender:"",nationality:"",birth_date:"",passport_number:"",passport_pinfl:"",passport_of_issue:"",state:"",province:"",district:"",address:"",department:{id:"1",name:"",employees:0},position:"",specialist:"",scientific_title:"",academic_degree:"",email:"",phone:"",image:""}),B=g(),x=g(!1),R=g(["Andijon","Buxoro","Farg'ona","Jizzax","Namangan","Navoiy","Qashqadaryo","Qoraqalpog'iston Respublikasi","Samarqand","Sirdaryo","Surxondaryo","Toshkent","Toshkent shahri","Xorazm"]),E=g([{name:"O'zbekiston",flag:"ðŸ‡ºðŸ‡¿"},{name:"Rossiya",flag:"ðŸ‡·ðŸ‡º"},{name:"Qozog'iston",flag:"ðŸ‡°ðŸ‡¿"},{name:"Tojikiston",flag:"ðŸ‡¹ðŸ‡¯"}]),I=async()=>{let m=document.getElementById("image");x.value=!0;const l=new FormData;a.value&&(l.append("first_name",a.value.first_name),l.append("last_name",a.value.last_name),l.append("middle_name",a.value.middle_name),l.append("gender",a.value.gender),l.append("nationality",a.value.nationality),l.append("birth_date",a.value.birth_date),l.append("passport_number",a.value.passport_number),l.append("passport_pinfl",a.value.passport_pinfl),l.append("passport_of_issue",a.value.passport_of_issue),l.append("state",a.value.state||""),l.append("province",a.value.province||""),l.append("district",a.value.district||""),l.append("address",a.value.address||""),l.append("phone",a.value.phone||""),l.append("department",a.value.department.id),l.append("position",a.value.position),l.append("specialist",a.value.specialist||""),l.append("scientific_title",a.value.scientific_title||""),l.append("academic_degree",a.value.academic_degree||""),m&&m.files&&l.append("image",m.files[0]));let p=await $fetch(C("employees/create/"),{method:"POST",body:l,headers:{Authorization:`Token ${D}`}});p.status==="success"?p.data&&ll({name:"admin-employees-uuid",params:{uuid:p.data}}):el("Ogohlantirish",{description:"Majburiy maydonlarni to'diring"}),console.log(l),x.value=!1},M=async()=>{x.value=!0;let m=await $fetch(C("departments/"));B.value=m,x.value=!1};return h(()=>{M();let m=document.getElementById("image");m&&(m.onchange=function(l){if(m.files){let p=new FileReader;p.readAsDataURL(m.files[0]),p.onload=function(){let f=document.getElementById("output");f&&p.result&&(f.src=p.result.toString())}}})}),(m,l)=>{const p=F,f=j,c=N,i=Q,u=O,w=P,y=H,_=X,b=Y,k=Z,U=J,S=L;return r(),$("div",sl,[n("div",ol,[l[20]||(l[20]=n("p",{class:"text-2xl"},"Yangi xodim qo'shish",-1)),e(p,{onClick:I},{default:t(()=>l[19]||(l[19]=[d("Saqlash")])),_:1})]),n("div",nl,[n("div",dl,[e(S,{class:"flex-1 bg-accent/10"},{default:t(()=>[e(c,null,{default:t(()=>[e(f,null,{default:t(()=>l[21]||(l[21]=[d("Shaxsiy ma'lumotlari")])),_:1})]),_:1}),e(U,{class:"flex flex-col gap-5"},{default:t(()=>[n("div",il,[n("div",ul,[e(i,null,{default:t(()=>l[22]||(l[22]=[d("Ismi")])),_:1}),e(u,{modelValue:o(a).first_name,"onUpdate:modelValue":l[0]||(l[0]=s=>o(a).first_name=s)},null,8,["modelValue"])]),n("div",ml,[e(i,null,{default:t(()=>l[23]||(l[23]=[d("Familiyasi")])),_:1}),e(u,{modelValue:o(a).last_name,"onUpdate:modelValue":l[1]||(l[1]=s=>o(a).last_name=s)},null,8,["modelValue"])]),n("div",pl,[e(i,null,{default:t(()=>l[24]||(l[24]=[d("Sharifi")])),_:1}),e(u,{modelValue:o(a).middle_name,"onUpdate:modelValue":l[2]||(l[2]=s=>o(a).middle_name=s)},null,8,["modelValue"])])]),n("div",fl,[n("div",rl,[e(i,null,{default:t(()=>l[25]||(l[25]=[d("Jinsi")])),_:1}),e(k,{modelValue:o(a).gender,"onUpdate:modelValue":l[3]||(l[3]=s=>o(a).gender=s)},{default:t(()=>[e(y,null,{default:t(()=>[e(w,{placeholder:"Jinsini tanlang"})]),_:1}),e(b,null,{default:t(()=>[e(_,{value:"Erkak"},{default:t(()=>l[26]||(l[26]=[d("Erkak")])),_:1}),e(_,{value:"Ayol"},{default:t(()=>l[27]||(l[27]=[d("Ayol")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",_l,[e(i,null,{default:t(()=>l[28]||(l[28]=[d("Millati")])),_:1}),e(u,{modelValue:o(a).nationality,"onUpdate:modelValue":l[4]||(l[4]=s=>o(a).nationality=s)},null,8,["modelValue"])]),n("div",vl,[e(i,null,{default:t(()=>l[29]||(l[29]=[d("Tug'ilgan sanasi")])),_:1}),V(e(u,{modelValue:o(a).birth_date,"onUpdate:modelValue":l[5]||(l[5]=s=>o(a).birth_date=s)},null,8,["modelValue"]),[[o(v),"##-##-####"]])])]),n("div",gl,[n("div",Vl,[e(i,null,{default:t(()=>l[30]||(l[30]=[d("Passport raqami")])),_:1}),V(e(u,{"data-maska":"AA-#######","data-maska-tokens":"A:[a-zA-Z]",modelValue:o(a).passport_number,"onUpdate:modelValue":l[6]||(l[6]=s=>o(a).passport_number=s)},null,8,["modelValue"]),[[o(v)]])]),n("div",xl,[e(i,null,{default:t(()=>l[31]||(l[31]=[d("JShShR")])),_:1}),V(e(u,{modelValue:o(a).passport_pinfl,"onUpdate:modelValue":l[7]||(l[7]=s=>o(a).passport_pinfl=s)},null,8,["modelValue"]),[[o(v),"##############"]])]),n("div",cl,[e(i,null,{default:t(()=>l[32]||(l[32]=[d("Passport amal qilish sanasi")])),_:1}),V(e(u,{"data-maska":"##-##-####",modelValue:o(a).passport_of_issue,"onUpdate:modelValue":l[8]||(l[8]=s=>o(a).passport_of_issue=s)},null,8,["modelValue"]),[[o(v)]])])])]),_:1})]),_:1}),e(S,{class:"bg-accent/10"},{default:t(()=>[e(c,null,{default:t(()=>[e(f,null,{default:t(()=>l[33]||(l[33]=[d("Rasm")])),_:1})]),_:1}),e(U,null,{default:t(()=>[n("div",wl,[n("img",{id:"output",class:"w-56 h-56 border rounded",src:o(a).image,alt:""},null,8,yl),e(u,{id:"image",type:"file",accept:"image/*"})])]),_:1})]),_:1})]),e(S,{class:"bg-accent/10"},{default:t(()=>[e(c,null,{default:t(()=>[e(f,null,{default:t(()=>l[34]||(l[34]=[d("Manzil")])),_:1})]),_:1}),e(U,null,{default:t(()=>[n("div",bl,[n("div",kl,[e(i,null,{default:t(()=>l[35]||(l[35]=[d("Davlat")])),_:1}),e(k,{modelValue:o(a).state,"onUpdate:modelValue":l[9]||(l[9]=s=>o(a).state=s)},{default:t(()=>[e(y,null,{default:t(()=>[e(w,{placeholder:"Davlatni tanlang"})]),_:1}),e(b,null,{default:t(()=>[(r(!0),$(A,null,q(o(E),s=>(r(),z(_,{value:s.name},{default:t(()=>[d(T(s.flag)+" "+T(s.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])]),n("div",Ul,[e(i,null,{default:t(()=>l[36]||(l[36]=[d("Viloyat")])),_:1}),e(k,{modelValue:o(a).province,"onUpdate:modelValue":l[10]||(l[10]=s=>o(a).province=s)},{default:t(()=>[e(y,null,{default:t(()=>[e(w,{placeholder:"Viloyatni tanlang"})]),_:1}),e(b,null,{default:t(()=>[(r(!0),$(A,null,q(o(R),s=>(r(),z(_,{value:s},{default:t(()=>[d(T(s),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])])]),n("div",Sl,[n("div",$l,[e(i,null,{default:t(()=>l[37]||(l[37]=[d("Tuman")])),_:1}),e(u,{modelValue:o(a).district,"onUpdate:modelValue":l[11]||(l[11]=s=>o(a).district=s)},null,8,["modelValue"])]),n("div",Tl,[e(i,null,{default:t(()=>l[38]||(l[38]=[d("Manzil")])),_:1}),e(u,{modelValue:o(a).address,"onUpdate:modelValue":l[12]||(l[12]=s=>o(a).address=s)},null,8,["modelValue"])])])]),_:1})]),_:1}),e(S,{class:"bg-accent/10"},{default:t(()=>[e(c,null,{default:t(()=>[e(f,null,{default:t(()=>l[39]||(l[39]=[d("Qo'shimcha ma'lumotlar")])),_:1})]),_:1}),e(U,null,{default:t(()=>[n("div",Al,[n("div",ql,[e(i,null,{default:t(()=>l[40]||(l[40]=[d("Department")])),_:1}),e(k,{modelValue:o(a).department.id,"onUpdate:modelValue":l[13]||(l[13]=s=>o(a).department.id=s)},{default:t(()=>[e(y,null,{default:t(()=>[e(w,{placeholder:"Bo'limni tanlang"})]),_:1}),e(b,null,{default:t(()=>[(r(!0),$(A,null,q(o(B),s=>(r(),z(_,{value:s.id},{default:t(()=>[d(T(s.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])]),n("div",zl,[e(i,null,{default:t(()=>l[41]||(l[41]=[d("Lavozimi")])),_:1}),e(u,{modelValue:o(a).position,"onUpdate:modelValue":l[14]||(l[14]=s=>o(a).position=s)},null,8,["modelValue"])])]),n("div",Bl,[n("div",Cl,[e(i,null,{default:t(()=>l[42]||(l[42]=[d("Mutaxasisligi")])),_:1}),e(u,{modelValue:o(a).specialist,"onUpdate:modelValue":l[15]||(l[15]=s=>o(a).specialist=s)},null,8,["modelValue"])]),n("div",Dl,[e(i,null,{default:t(()=>l[43]||(l[43]=[d("Ilmiy unvoni")])),_:1}),e(u,{modelValue:o(a).scientific_title,"onUpdate:modelValue":l[16]||(l[16]=s=>o(a).scientific_title=s)},null,8,["modelValue"])])]),n("div",Rl,[n("div",El,[e(i,null,{default:t(()=>l[44]||(l[44]=[d("Akademik darajasi")])),_:1}),e(u,{modelValue:o(a).academic_degree,"onUpdate:modelValue":l[17]||(l[17]=s=>o(a).academic_degree=s)},null,8,["modelValue"])]),n("div",Il,[e(i,null,{default:t(()=>l[45]||(l[45]=[d("Telefon raqami")])),_:1}),V(e(u,{modelValue:o(a).phone,"onUpdate:modelValue":l[18]||(l[18]=s=>o(a).phone=s)},null,8,["modelValue"]),[[o(v),"+998 (##) - ### - ## - ##"]])])])]),_:1})]),_:1})])])}}});export{Zl as default};
