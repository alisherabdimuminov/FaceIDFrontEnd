import{_ as V,a as k}from"./bSiN64ad.js";import{_ as y}from"./C42TA1yl.js";import{u as w}from"./CXIs5lR0.js";import{e as x,u as T,r,o as B,c as N,a as u,b as t,w as m,f as i,i as g,n as $,d as p}from"./zgKzL862.js";import{a as C}from"./CG0E6PN7.js";import{u as K}from"./B3a9kYQd.js";import"./dbmB2fFP.js";import"./BSWGHhdT.js";const P={class:"w-96 grid gap-3"},j=x({__name:"login",setup(X){K({title:"Kirish"});const{login:_}=w(),{toast:n}=T(),s=r(""),l=r(""),e=r(!1),v=async()=>{e.value=!0;let o=await $fetch(C("auth/login/"),{method:"POST",body:JSON.stringify({username:s.value,password:l.value})});o.status==="success"?(_(o.data),$({name:"admin"})):o.code==="404"?n({title:"Xatolik",description:"Foydalanuvchi topilmadi! Qaytadan urinib ko'ring"}):o.code==="405"?n({title:"Xatolik",description:"Parol noto'g'ri. Qaytadan urinib ko'ring"}):n({title:"Xatolik",description:"Tizim xatoligi. Adminga murojat qiling."}),e.value=!1};return(o,a)=>{const f=V,c=k,b=y;return B(),N("div",P,[a[5]||(a[5]=u("p",{class:"text-center"},"Kirish",-1)),u("div",null,[t(f,null,{default:m(()=>a[2]||(a[2]=[p("Foydalanuvchi nomi")])),_:1}),t(c,{disabled:i(e),modelValue:i(s),"onUpdate:modelValue":a[0]||(a[0]=d=>g(s)?s.value=d:null)},null,8,["disabled","modelValue"])]),u("div",null,[t(f,null,{default:m(()=>a[3]||(a[3]=[p("Parol")])),_:1}),t(c,{disabled:i(e),modelValue:i(l),"onUpdate:modelValue":a[1]||(a[1]=d=>g(l)?l.value=d:null)},null,8,["disabled","modelValue"])]),t(b,{disabled:i(e),onClick:v},{default:m(()=>a[4]||(a[4]=[p("Kirish")])),_:1},8,["disabled"])])}}});export{j as default};
