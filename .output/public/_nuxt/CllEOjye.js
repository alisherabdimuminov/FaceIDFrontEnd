import{_ as q,a as w}from"./bSiN64ad.js";import{_ as C}from"./C42TA1yl.js";import{e as P,u as S,r as s,l as T,o as m,c as f,a as V,f as o,b as n,d as r,t as j,m as N,w as g,i as B,n as I,aB as $}from"./zgKzL862.js";import{u as L}from"./B3a9kYQd.js";import{c as M}from"./CKqcKTee.js";import"./dbmB2fFP.js";import"./BSWGHhdT.js";/**
 * @license lucide-vue-next v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=M("FileWarningIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),W={class:"h-screen w-full flex items-center justify-center"},D={class:"grid gap-5 p-5 w-96"},F={key:0,class:"border border-red-500 p-1 rounded-lg bg-red-500/10 flex items-center gap-3 text-lg font-bold text-red-500"},G=P({__name:"index",setup(H){L({title:"Location"});const{toast:_}=S(),d=$(),u=s(0),c=s(0),l=s(!1),a=s(""),i=s(""),p=s(!1),v=async t=>{p.value=!0,u.value=t.coords.longitude,c.value=t.coords.latitude;let e=await $fetch(d.public.api+"location/",{method:"POST",body:JSON.stringify({longitude:u.value,latitude:c.value}),headers:{"Content-Type":"application/json"}});console.log(e),e.code==="200"?(l.value=!0,_({title:"Ajoyib",description:"Siz institut hududidasiz. Davom etishingiz mumkin."})):a.value="Siz institut hududida emassiz. Iltimos institut hududiga kelib qaytadan urinib ko'ring",p.value=!1},y=t=>{a.value="Sizning joylashuvingizni ololmadik. Iltimos, qaytadan urinib ko'ring"},b=async()=>{let t=await $fetch(d.public.api+"passport/",{method:"POST",body:JSON.stringify({passport:i.value}),headers:{"Content-Type":"application/json"}});t.status==="success"&&t.code==="200"&&t.data?I({name:"faceid",query:{passport:i.value}}):a.value="Passport raqami noto'g'ri kiritildi."};return T(()=>{navigator.geolocation.getCurrentPosition(v,y)}),(t,e)=>{const h=q,k=w,x=C;return m(),f("div",W,[V("div",D,[o(a)?(m(),f("p",F,[n(o(O),{size:50}),r(" "+j(o(a)),1)])):N("",!0),n(h,null,{default:g(()=>e[1]||(e[1]=[r("Passport raqam")])),_:1}),n(k,{modelValue:o(i),"onUpdate:modelValue":e[0]||(e[0]=z=>B(i)?i.value=z:null),disabled:!o(l),class:"w-full"},null,8,["modelValue","disabled"]),n(x,{onClick:b,disabled:!o(l),class:"w-full"},{default:g(()=>e[2]||(e[2]=[r("Kirish")])),_:1},8,["disabled"])])])}}});export{G as default};
