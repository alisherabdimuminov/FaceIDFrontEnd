import{b as M}from"./BSWGHhdT.js";import{o as d,c as y,a as k,e as p,x as N,q as i,w as t,s as g,y as A,z as H,f as e,a8 as ne,a9 as le,B as C,b as a,aa as de,C as x,j as w,ab as re,F as V,p as F,d as _,t as b,ac as ce,I as B,ad as ue,ae as ie,af as pe,ag as _e,ah as fe,ai as me,aj as ye,ak as ge,al as he,am as ve,an as we,r as D,l as $e,L as Ce,ao as xe,h as be,i as Be,m as j}from"./zgKzL862.js";import{c as Pe,_ as ke,a as Ve,d as Fe,b as Le}from"./DnjfkEkh.js";import{c as Te,_ as ze,a as Se,b as De,d as Me,e as Ae}from"./DSW0zgDW.js";import{_ as He}from"./BBMl_GJe.js";import{a as R}from"./CG0E6PN7.js";import{u as Oe}from"./B3a9kYQd.js";import{u as je}from"./CXIs5lR0.js";import{c as Ne}from"./CKqcKTee.js";import{_ as Ie}from"./C42TA1yl.js";function Ke(r,s){return d(),y("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[k("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor"})])}function qe(r,s){return d(),y("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[k("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:"currentColor"})])}/**
 * @license lucide-vue-next v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Ne("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Re=p({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(r,{emit:s}){const l=N(r,s);return(n,h)=>(d(),i(e(ne),A(H(e(l))),{default:t(()=>[g(n.$slots,"default")]),_:3},16))}}),Ue=p({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;return(o,c)=>(d(),i(e(le),A(H(s)),{default:t(()=>[g(o.$slots,"default")]),_:3},16))}}),We=p({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:s}){const o=r,c=s,l=C(()=>{const{class:h,...$}=o;return $}),n=N(l,c);return(h,$)=>(d(),i(e(re),null,{default:t(()=>[a(e(de),x({...e(n),...h.$attrs},{class:e(w)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:t(()=>[g(h.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Ee={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},Ze=p({__name:"Calendar",props:{modelValue:{},multiple:{type:Boolean},defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:placeholder"],setup(r,{emit:s}){const o=r,c=s,l=C(()=>{const{class:h,...$}=o;return $}),n=N(l,c);return(h,$)=>(d(),i(e(ce),x({class:e(w)("p-3",o.class)},e(n)),{default:t(({grid:O,weekDays:T})=>[a(e(at),null,{default:t(()=>[a(e(nt)),a(e(st)),a(e(ot))]),_:1}),k("div",Ee,[(d(!0),y(V,null,F(O,z=>(d(),i(e(Qe),{key:z.value.toString()},{default:t(()=>[a(e(et),null,{default:t(()=>[a(e(U),null,{default:t(()=>[(d(!0),y(V,null,F(T,v=>(d(),i(e(tt),{key:v},{default:t(()=>[_(b(v),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),a(e(Xe),null,{default:t(()=>[(d(!0),y(V,null,F(z.rows,(v,u)=>(d(),i(e(U),{key:`weekDate-${u}`,class:"mt-2 w-full"},{default:t(()=>[(d(!0),y(V,null,F(v,S=>(d(),i(e(Ye),{key:S.toString(),date:S},{default:t(()=>[a(e(Je),{day:S,month:z.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),Ye=p({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(ue),x({class:e(w)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent [&:has([data-selected][data-outside-view])]:bg-accent/50",s.class)},e(c)),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"]))}}),Je=p({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(ie),x({class:e(w)(e(M)({variant:"ghost"}),"h-8 w-8 p-0 font-normal","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:bg-accent/50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30",s.class)},e(c)),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"]))}}),Qe=p({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(pe),x({class:e(w)("w-full border-collapse space-y-1",s.class)},e(c)),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"]))}}),Xe=p({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;return(o,c)=>(d(),i(e(_e),A(H(s)),{default:t(()=>[g(o.$slots,"default")]),_:3},16))}}),et=p({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r;return(o,c)=>(d(),i(e(fe),A(H(s)),{default:t(()=>[g(o.$slots,"default")]),_:3},16))}}),U=p({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(me),x({class:e(w)("flex",s.class)},e(c)),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"]))}}),tt=p({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(ye),x({class:e(w)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",s.class)},e(c)),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"]))}}),at=p({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(ge),x({class:e(w)("relative flex w-full items-center justify-between pt-1",s.class)},e(c)),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"]))}}),st=p({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(he),x({class:e(w)("text-sm font-medium",s.class)},e(c)),{default:t(({headingValue:h})=>[g(l.$slots,"default",{headingValue:h},()=>[_(b(h),1)])]),_:3},16,["class"]))}}),ot=p({__name:"CalendarNextButton",props:{step:{},nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(ve),x({class:e(w)(e(M)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",s.class)},e(c)),{default:t(()=>[g(l.$slots,"default",{},()=>[a(e(qe),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),nt=p({__name:"CalendarPrevButton",props:{step:{},prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,o=C(()=>{const{class:l,...n}=s;return n}),c=B(o);return(l,n)=>(d(),i(e(we),x({class:e(w)(e(M)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",s.class)},e(c)),{default:t(()=>[g(l.$slots,"default",{},()=>[a(e(Ke),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),lt={class:"flex flex-col gap-5 p-5 md:p-10"},dt={class:"flex items-center justify-between"},rt={class:"border rounded-md flex flex-col overflow-x-auto"},ct={key:0,class:"text-green-500 font-bold"},ut={key:1,class:"text-orange-500 font-bold"},it={key:2,class:"text-red-500 font-bold"},pt={key:0,class:"flex gap-5 items-center justify-center py-5"},xt=p({__name:"reports",setup(r){Oe({title:"Hisobotlar"});const{token:s}=je(),o=D(!1),c=D("0"),l=D(),n=D(),h=new Date,$=D({day:h.getDate(),era:"AD",month:h.getMonth()+1,year:h.getFullYear(),toString(){return`${this.year}-${this.month}-${this.day}`}}),O=async()=>{o.value=!0;let v=await $fetch(R("departments"),{headers:{Authorization:`Token ${s}`}});l.value=v,o.value=!1},T=async v=>{o.value=!0;let u=await $fetch(R(`attendance/?department=${v}&day=${$.value.day}&month=${$.value.month}&year=${$.value.year}`),{headers:{Authorization:`Token ${s}`}});n.value=u,o.value=!1},z=async v=>{$.value=v,T(c.value)};return $e(()=>{T(0),O()}),Ce(c,v=>{T(c.value)}),(v,u)=>{var q;const S=Ie,W=Ue,E=Ze,Z=We,Y=Re,J=ke,Q=Ve,I=Fe,X=Le,ee=Pe,L=ze,te=Se,f=Me,K=Ae,P=He,ae=De,se=Te,oe=xe("LucideTriangleAlert");return d(),y("div",lt,[k("div",dt,[k("p",{class:be(e(w)(e(M)({variant:"outline"})))},"Sana: "+b(e($)),3),a(Y,null,{default:t(()=>[a(W,{"as-child":""},{default:t(()=>[a(S,{variant:"outline",size:"icon"},{default:t(()=>[a(e(Ge),{size:16})]),_:1})]),_:1}),a(Z,null,{default:t(()=>[a(E,{"onUpdate:modelValue":z})]),_:1})]),_:1})]),k("div",null,[a(ee,{modelValue:e(c),"onUpdate:modelValue":u[0]||(u[0]=m=>Be(c)?c.value=m:null)},{default:t(()=>[a(Q,null,{default:t(()=>[a(J,{placeholder:"Bo'limni tanlang"})]),_:1}),a(X,null,{default:t(()=>[a(I,{value:"0"},{default:t(()=>u[1]||(u[1]=[_("Barcha bo'limlar")])),_:1}),(d(!0),y(V,null,F(e(l),m=>(d(),i(I,{value:m.id},{default:t(()=>[_(b(m.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["modelValue"])]),k("div",rt,[a(se,null,{default:t(()=>[a(te,{class:"border-b"},{default:t(()=>[a(L,{class:"w-4"},{default:t(()=>u[2]||(u[2]=[_("#")])),_:1}),a(L,null,{default:t(()=>u[3]||(u[3]=[_("Ism")])),_:1}),a(L,null,{default:t(()=>u[4]||(u[4]=[_("Familiya")])),_:1}),a(L,null,{default:t(()=>u[5]||(u[5]=[_("Holati")])),_:1}),a(L,null,{default:t(()=>u[6]||(u[6]=[_("Vaqt")])),_:1}),a(L,null,{default:t(()=>u[7]||(u[7]=[_("Bino")])),_:1})]),_:1}),a(ae,null,{default:t(()=>[(d(!0),y(V,null,F(e(n),(m,G)=>(d(),i(K,{key:G},{default:t(()=>[a(f,null,{default:t(()=>[_(b(G+1),1)]),_:2},1024),a(f,null,{default:t(()=>[_(b(m.first_name),1)]),_:2},1024),a(f,null,{default:t(()=>[_(b(m.last_name),1)]),_:2},1024),a(f,null,{default:t(()=>[m.attendance==="arrived"?(d(),y("span",ct,"Kelgan")):m.attendance==="late"?(d(),y("span",ut,"Kech qolgan")):m.attendance==="did_not_come"?(d(),y("span",it,"Kelmagan")):j("",!0)]),_:2},1024),a(f,null,{default:t(()=>[_(b(m.attendance_time),1)]),_:2},1024),a(f,null,{default:t(()=>[_(b(m.attendance_area),1)]),_:2},1024)]),_:2},1024))),128)),e(o)?(d(),y(V,{key:0},F(10,m=>a(K,{key:m},{default:t(()=>[a(f,null,{default:t(()=>[a(P,{class:"w-4 h-4"})]),_:1}),a(f,null,{default:t(()=>[a(P,{class:"w-full h-4"})]),_:1}),a(f,null,{default:t(()=>[a(P,{class:"w-full h-4"})]),_:1}),a(f,null,{default:t(()=>[a(P,{class:"w-full h-4"})]),_:1}),a(f,null,{default:t(()=>[a(P,{class:"w-16 h-4"})]),_:1}),a(f,null,{default:t(()=>[a(P,{class:"w-6 h-4"})]),_:1}),a(f,null,{default:t(()=>[a(P,{class:"w-16 h-4"})]),_:1}),a(f,null,{default:t(()=>[a(P,{class:"w-8 h-8 rounded-md"})]),_:1})]),_:2},1024)),64)):j("",!0)]),_:1})]),_:1}),((q=e(n))==null?void 0:q.length)===0?(d(),y("div",pt,[a(oe,{size:30}),u[8]||(u[8]=k("p",{class:"text-3xl"},"Ma'lumot topilmadi",-1))])):j("",!0)])])}}});export{xt as default};
